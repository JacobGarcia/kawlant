import { combineReducers } from 'redux'

const dumbZones = [
  {
    _id: '4d128b6ea794fc13a8000001',
    name: 'Centro',
    positions: [
      [20.66362605415281, -105.24902343750001],
      [20.72529087399421, -105.24353027343751],
      [20.776659051878816, -105.20507812500001],
      [20.761250430919652, -105.17211914062501],
      [20.78693059257028, -105.15014648437501],
      [20.82800976296467, -105.1666259765625],
      [20.87421043965721, -105.13916015625001],
      [20.930658643632885, -105.04577636718751],
      [20.910134481692683, -104.93591308593751],
      [20.951179993976236, -104.9139404296875],
      [21.01272715296389, -104.85351562500001],
      [21.007599191785754, -104.70520019531251],
      [20.956309891986706, -104.69421386718751],
      [20.92039691397189, -104.62829589843751],
      [20.93578924489374, -104.5733642578125],
      [20.817741019786485, -104.46350097656251],
      [20.730428476781338, -104.35363769531251],
      [20.673905264672843, -104.27124023437501],
      [20.612219573881042, -104.28771972656251],
      [20.607077970830293, -104.24926757812501],
      [20.658486188041294, -104.2547607421875],
      [20.720153096892663, -104.24926757812501],
      [20.756113874762082, -104.27124023437501],
      [20.78693059257028, -104.30419921875001],
      [20.802336592979056, -104.35363769531251],
      [20.84341156498646, -104.35363769531251],
      [20.84341156498646, -104.29321289062501],
      [20.899871347076424, -104.26574707031251],
      [20.940919670394646, -104.2108154296875],
      [20.97682772467436, -104.23828125000001],
      [21.04349121680354, -104.23828125000001],
      [21.115249309963783, -104.2108154296875],
      [21.15623836610943, -104.2108154296875],
      [21.181850766266123, -104.18334960937501],
      [21.181850766266123, -104.12841796875],
      [21.192094484509038, -104.0625],
      [21.233062254412808, -104.01306152343751],
      [21.22794190505816, -103.91967773437501],
      [21.248422235627014, -103.831787109375],
      [21.32008096400822, -103.765869140625],
      [21.34054846908118, -103.63403320312501],
      [21.37124437061832, -103.51318359375],
      [21.43261686447735, -103.53515625],
      [21.43261686447735, -103.61206054687501],
      [21.48374090716327, -103.64501953125001],
      [21.524627220545295, -103.67797851562501],
      [21.58593511478851, -103.65600585937501],
      [21.575718932458493, -103.57910156250001],
      [21.626792634799433, -103.53515625],
      [21.749295836732088, -103.51318359375],
      [21.810508315752152, -103.54614257812501],
      [21.861498734372567, -103.447265625],
      [21.95323560036448, -103.32641601562501],
      [22.004174972902003, -103.11767578125001],
      [22.085639901650328, -103.128662109375],
      [22.126354759919685, -103.08471679687501],
      [22.187404991398786, -103.09570312500001],
      [22.268764039073968, -103.06274414062501],
      [22.30942584120019, -103.128662109375],
      [22.36023644579937, -103.150634765625],
      [22.400871590305965, -103.194580078125],
      [22.411028521558706, -103.27148437500001],
      [22.416106708771792, -103.28247070312501],
      [22.416106708771792, -103.2989501953125],
      [22.29926149974121, -103.37036132812501],
      [22.29926149974121, -103.30993652343751],
      [22.253512814974744, -103.31542968750001],
      [22.19757745335105, -103.41979980468751],
      [22.11617714721062, -103.44177246093751],
      [22.126354759919685, -103.53515625],
      [22.100909350572714, -103.62304687500001],
      [22.126354759919685, -103.6614990234375],
      [22.19249131446977, -103.6614990234375],
      [22.27893059841188, -103.61206054687501],
      [22.319589442833923, -103.6175537109375],
      [22.39579284633253, -103.58459472656251],
      [22.451648819126216, -103.56811523437501],
      [22.507482299898438, -103.58459472656251],
      [22.558220454844044, -103.5955810546875],
      [22.563293244707797, -103.67797851562501],
      [22.553147478403194, -103.76037597656251],
      [22.466878364528448, -103.78234863281251],
      [22.365316487720527, -103.82629394531251],
      [22.21283476452259, -103.84826660156251],
      [22.207749178410857, -103.88122558593751],
      [22.314507734511825, -103.91967773437501],
      [22.400871590305965, -103.88671875000001],
      [22.456725520188908, -103.88671875000001],
      [22.58358253773391, -103.84277343750001],
      [22.61401087437029, -103.77685546875001],
      [22.715390019335942, -103.77685546875001],
      [22.766051469126936, -103.97460937500001],
      [22.725523811089413, -104.0625],
      [22.654571520099008, -103.96362304687501],
      [22.492257220085193, -103.96362304687501],
      [22.39071391683855, -103.97460937500001],
      [22.380555501421533, -104.07348632812501],
      [22.522705703482472, -104.07348632812501],
      [22.492257220085193, -104.16137695312501],
      [22.370396344320053, -104.28222656250001],
      [22.411028521558706, -104.337158203125],
      [22.482106236077684, -104.29321289062501],
      [22.58358253773391, -104.28222656250001],
      [22.715390019335942, -104.28222656250001],
      [22.786310789104277, -104.22729492187501],
      [22.776181505086505, -104.11743164062501],
      [22.88756221517449, -104.09545898437501],
      [22.998851594142923, -104.18334960937501],
      [23.11004929735674, -104.16137695312501],
      [23.271627053918287, -104.09545898437501],
      [23.443088931121785, -104.0625],
      [23.57405696664267, -103.91967773437501],
      [23.644524198573688, -103.82080078125001],
      [23.735069188959354, -103.82080078125001],
      [23.694834722205965, -103.73291015625001],
      [23.654587852202987, -103.61206054687501],
      [23.644524198573688, -103.41430664062501],
      [23.53377298325595, -103.238525390625],
      [23.483400654325642, -103.11767578125001],
      [23.32208001137844, -102.96386718750001],
      [23.241346102386135, -102.90893554687501],
      [23.059516273509317, -102.23876953125],
      [22.867317960075614, -102.19482421875],
      [22.776181505086505, -102.10693359375001],
      [22.674847351188536, -101.942138671875],
      [22.63429269379353, -101.84326171875001],
      [22.522705703482472, -101.82128906250001],
      [22.471954507739227, -101.77734375000001],
      [22.51255695405145, -101.65649414062501],
      [22.59372606392931, -101.59057617187501],
      [22.715390019335942, -101.50268554687501],
      [22.735656852206496, -101.370849609375],
      [22.62415215809042, -101.304931640625],
      [22.543000965921863, -101.304931640625],
      [22.502407459497764, -101.304931640625],
      [22.411028521558706, -101.35986328125001],
      [22.319589442833923, -101.42578125000001],
      [22.238259929564308, -101.35986328125001],
      [22.136531637609686, -101.33789062500001],
      [22.04491330024569, -101.348876953125],
      [21.912470952680277, -101.42578125000001],
      [21.810508315752152, -101.51367187500001],
      [21.83090666506977, -101.35986328125001],
      [21.779905342529645, -101.19506835937501],
      [21.76970289940967, -101.07421875],
      [21.759499730719817, -100.99731445312501],
      [21.667638606781576, -100.88745117187501],
      [21.616579336740603, -100.82153320312501],
      [21.524627220545295, -100.64575195312501],
      [21.555284406923192, -100.43701171875],
      [21.616579336740603, -100.44799804687501],
      [21.6778482933475, -100.42602539062501],
      [21.667638606781576, -100.22827148437501],
      [21.54506606426624, -100.03051757812501],
      [21.50418550077842, -99.98657226562501],
      [21.442843107187667, -99.89868164062501],
      [21.46329344189929, -99.74487304687501],
      [21.565502029745343, -99.73388671875],
      [21.54506606426624, -99.64599609375001],
      [21.453068633086783, -99.59106445312501],
      [21.442843107187667, -99.481201171875],
      [21.442843107187667, -99.37133789062501],
      [21.54506606426624, -99.36035156250001],
      [21.54506606426624, -99.28344726562501],
      [21.657428197370653, -99.20654296875],
      [21.58593511478851, -99.16259765625],
      [21.48374090716327, -99.12414550781251],
      [21.396819374082195, -99.09667968750001],
      [21.3303150734318, -99.13513183593751],
      [21.309846141087203, -99.1021728515625],
      [21.274018646069543, -99.0362548828125],
      [21.299610604945617, -98.953857421875],
      [21.186972714123776, -98.88244628906251],
      [21.166483858206583, -98.80004882812501],
      [21.186972714123776, -98.6956787109375],
      [21.212579790630603, -98.61328125],
      [21.289374355860424, -98.59680175781251],
      [21.3303150734318, -98.67919921875001],
      [21.361013117950915, -98.63525390625],
      [21.37124437061832, -98.53088378906251],
      [21.396819374082195, -98.47045898437501],
      [21.345664899154094, -98.47045898437501],
      [21.304728462151672, -98.51440429687501],
      [21.238182425982313, -98.51440429687501],
      [21.212579790630603, -98.4649658203125],
      [21.171606338272724, -98.3990478515625],
      [21.17672864097083, -98.33312988281251],
      [21.192094484509038, -98.26171875000001],
      [21.135745255030603, -98.23974609375001],
      [21.12037356179488, -98.19580078125001],
      [21.04861794324536, -98.15734863281251],
      [21.01272715296389, -98.1903076171875],
      [20.838277806058933, -98.23974609375001],
      [20.771523019513364, -98.228759765625],
      [20.80747157680652, -98.32763671875001],
      [20.8588117908677, -98.34411621093751],
      [20.853678557426065, -98.4210205078125],
      [20.802336592979056, -98.44848632812501],
      [20.72529087399421, -98.50341796875001],
      [20.673905264672843, -98.51440429687501],
      [20.72529087399421, -98.41552734375001],
      [20.632784250388028, -98.44848632812501],
      [20.58136735381002, -98.48144531250001],
      [20.52993312517078, -98.525390625],
      [20.499064283413055, -98.5693359375],
      [20.416716988945712, -98.55834960937501],
      [20.354927584117682, -98.51440429687501],
      [20.324023603422518, -98.43750000000001],
      [20.396123272467616, -98.338623046875],
      [20.45789615504684, -98.26171875000001],
      [20.50935458871459, -98.17382812500001],
      [20.607077970830293, -98.08593750000001],
      [20.653346148076064, -98.0804443359375],
      [20.607077970830293, -98.02551269531251],
      [20.50420952245688, -98.01452636718751],
      [20.58136735381002, -97.93212890625],
      [20.622502259344817, -97.90466308593751],
      [20.699600246050338, -97.8936767578125],
      [20.761250430919652, -97.91564941406251],
      [20.82800976296467, -97.8717041015625],
      [20.80747157680652, -97.8277587890625],
      [20.812606385754087, -97.77832031250001],
      [20.812606385754087, -97.71240234375001],
      [20.740703159270744, -97.7618408203125],
      [20.66362605415281, -97.723388671875],
      [20.576224710301645, -97.69042968750001],
      [20.558224093635967, -97.591552734375],
      [20.486200430098492, -97.53387451171876],
      [20.487486864000104, -97.57232666015625],
      [20.47333549765169, -97.58743286132814],
      [20.456609473086033, -97.60253906250001],
      [20.450175901615935, -97.63412475585938],
      [20.42572587376724, -97.64373779296876],
      [20.410281748370288, -97.64511108398439],
      [20.41285587687944, -97.66021728515625],
      [20.450175901615935, -97.69454956054689],
      [20.456609473086033, -97.71377563476564],
      [20.45789615504684, -97.72750854492189],
      [20.41800400477957, -97.74673461914064],
      [20.389687171470065, -97.76321411132812],
      [20.37938885093438, -97.74673461914064],
      [20.360077646657164, -97.73712158203126],
      [20.34462694382967, -97.75222778320314],
      [20.324023603422518, -97.7398681640625],
      [20.321447992849983, -97.73025512695314],
      [20.2982655686933, -97.73300170898439],
      [20.292469420353992, -97.73643493652345],
      [20.283452758664232, -97.7556610107422],
      [20.275723774072947, -97.75497436523439],
      [20.224187372238422, -97.74673461914064],
      [20.208078741507393, -97.75840759277345],
      [20.159098270646936, -97.67395019531251],
      [20.179723502765153, -97.635498046875],
      [20.128155311797183, -97.591552734375],
      [20.092047451277185, -97.56408691406251],
      [20.143627557443363, -97.49816894531251],
      [20.16425483433661, -97.48168945312501],
      [20.24158281954221, -97.4432373046875],
      [20.251890313952938, -97.38830566406251],
      [20.21581109239457, -97.36083984375],
      [20.143627557443363, -97.13562011718751],
      [20.231274641302555, -96.77856445312501],
      [20.138470312451155, -96.65771484375001],
      [19.983673966092503, -96.55883789062501],
      [19.80805412808859, -96.41601562500001],
      [19.642587534013032, -96.39404296875001],
      [19.50802015491678, -96.35009765625001],
      [19.321511226817186, -96.29516601562501],
      [19.25929414046391, -96.24023437500001],
      [19.093266636089712, -96.03149414062501],
      [19.010190294396075, -95.97656250000001],
      [18.916679786648565, -95.91064453125001],
      [18.843913201134143, -95.92163085937501],
      [18.79191774423444, -95.86669921875001],
      [18.760712758499565, -95.80078125000001],
      [18.750309813140653, -95.70190429687501],
      [18.70869162255995, -95.5810546875],
      [18.698285474146818, -95.50415039062501],
      [17.978733095556183, -98.0419921875],
      [17.96828290799979, -98.14086914062501],
      [17.895114303749143, -98.16284179687501],
      [17.90556881196468, -98.228759765625],
      [17.936928637549443, -98.26171875000001],
      [17.8846591795428, -98.38256835937501],
      [17.86374708440522, -98.41552734375001],
      [17.989182664630523, -98.42651367187501],
      [17.926475979176452, -98.59130859375],
      [17.989182664630523, -98.76708984375001],
      [18.07275691457901, -98.75610351562501],
      [18.07275691457901, -98.83300781250001],
      [18.135411517108345, -98.83300781250001],
      [18.177168793544702, -98.97583007812501],
      [18.260653356758375, -98.98681640625001],
      [18.260653356758375, -99.06372070312501],
      [18.34409780210156, -99.06372070312501],
      [18.427501971948608, -99.09667968750001],
      [18.490028573953296, -99.1845703125],
      [18.510865709091377, -99.40429687500001],
      [18.562947442888312, -99.42626953125001],
      [18.63583516062285, -99.459228515625],
      [18.698285474146818, -99.49218750000001],
      [18.71909713096968, -99.569091796875],
      [18.760712758499565, -99.65698242187501],
      [18.760712758499565, -99.70092773437501],
      [18.739906226563686, -99.755859375],
      [18.63583516062285, -99.76684570312501],
      [18.625424540701264, -99.88769531250001],
      [18.58377568837094, -99.94262695312501],
      [18.562947442888312, -99.98657226562501],
      [18.60460138845525, -99.98657226562501],
      [18.594188856740427, -100.096435546875],
      [18.531700307384057, -100.096435546875],
      [18.375379094031825, -100.27221679687501],
      [18.427501971948608, -100.36010742187501],
      [18.531700307384057, -100.37109375],
      [18.552532366385577, -100.4150390625],
      [18.61501328321048, -100.42602539062501],
      [18.646245142670608, -100.458984375],
      [18.79191774423444, -100.43701171875],
      [18.864706878398053, -100.52490234375001],
      [18.885497977462876, -100.62377929687501],
      [18.79191774423444, -100.689697265625],
      [18.8543103618898, -100.733642578125],
      [18.833515396433512, -100.78857421875001],
      [18.71909713096968, -100.78857421875001],
      [18.60460138845525, -100.755615234375],
      [18.500447458475094, -100.755615234375],
      [18.427501971948608, -100.62377929687501],
      [18.364952626539175, -100.57983398437501],
      [18.312810846425457, -100.59082031250001],
      [18.396230138028827, -100.711669921875],
      [18.458768120015137, -100.755615234375],
      [18.490028573953296, -100.90942382812501],
      [18.46918890441719, -100.96435546875],
      [18.531700307384057, -101.06323242187501],
      [18.542116654448996, -101.19506835937501],
      [18.531700307384057, -101.348876953125],
      [18.490028573953296, -101.43676757812501],
      [18.521283325496288, -101.56860351562501],
      [18.625424540701264, -101.66748046875],
      [18.60460138845525, -101.87622070312501],
      [18.521283325496288, -101.898193359375],
      [18.427501971948608, -101.88720703125001],
      [18.35452552912665, -101.85424804687501],
      [18.25021997706561, -101.85424804687501],
      [18.218916080017465, -101.920166015625],
      [18.166730410221938, -102.11791992187501],
      [18.124970639386515, -102.16186523437501],
      [18.05186707354763, -102.19482421875],
      [17.947380678685217, -102.19482421875],
      [17.95783210227242, -102.31567382812501],
      [17.99963161491188, -102.48046875000001],
      [18.05186707354763, -102.579345703125],
      [18.083200903334323, -102.75512695312501],
      [18.145851771694467, -102.90893554687501],
      [18.208480196039893, -103.07373046875001],
      [18.22935133838668, -103.26049804687501],
      [18.291949733550336, -103.39233398437501],
      [18.312810846425457, -103.4912109375],
      [18.40665471391907, -103.50219726562501],
      [18.542116654448996, -103.56811523437501],
      [18.58377568837094, -103.62304687500001],
      [18.58377568837094, -103.67797851562501],
      [18.646245142670608, -103.65600585937501],
      [18.750309813140653, -103.75488281250001],
      [18.79191774423444, -103.809814453125],
      [18.864706878398053, -103.97460937500001],
      [18.94785578129413, -104.01855468750001],
      [19.010190294396075, -104.09545898437501],
      [18.999802829053262, -104.21630859375001],
      [19.072501451715087, -104.29321289062501],
      [19.134789188332537, -104.359130859375],
      [19.08288436934017, -104.447021484375],
      [19.228176737766262, -104.7216796875],
      [19.238549860797416, -104.78759765625001],
      [19.311143355064655, -104.78759765625001],
      [19.30077482585895, -104.86450195312501],
      [19.352610894378625, -104.974365234375],
      [19.44587429821595, -105.040283203125],
      [19.54943746814108, -105.07324218750001],
      [19.611543503814232, -105.13916015625001],
      [19.663280219987662, -105.22705078125001],
      [20.004322295998723, -105.47973632812501],
      [20.086888505561017, -105.49072265625001],
      [20.14878463216417, -105.53466796875001],
      [20.210656234489853, -105.54565429687501],
      [20.37552680342694, -105.66650390625001],
      [20.45789615504684, -105.57861328125001],
      [20.499064283413055, -105.38085937500001],
      [20.519644202728962, -105.28198242187501],
      [20.571081893508193, -105.23803710937501],
      [20.64306554672647, -105.23803710937501]
    ],
    subzones: [
      {
        _id: '4d1288sh2394fc13a8087301',
        positions: [],
        name: 'Valle de Toluca',
        sites: [
          {
            _id: '4d1288s8sh94fc9sj1h37301',
            key: 'A4050',
            name: '7Y',
            position: [19.2893525,-99.7064102]
          },
          {
            _id: '4d123234s8shubdiu9sj1afad1',
            key: 'A23094',
            position: [19.692634, -99.247175]
          }
        ]
      },
      {
        _id: '4d1223423494fc13a8087301',
        positions: [],
        name: 'CDMX',
        sites: [
          {
            _id: '4d128g435g435534541h37301',
            position: [],
            key: 'A23095'
          }
        ]
      }
    ]
  }
  // }, {
  //   _id: '4d128b6ea794fc13a8004301',
  //   name: 'Norte',
  //   subzones: [
  //     {
  //       _id: '234h293842342ji3423j4',
  //       name: 'Nuevo León',
  //       sites: [
  //         {
  //           _id: 'akjsndjkasnd9i23',
  //           key: 'A23096',
  //           position: [25.720735134412106, -100.31616210937501],
  //           name: '3T'
  //         },
  //         {
  //           _id: 'akjs3j5435nd9i23',
  //           position: [25.71083691964062, -99.25048828125],
  //           name: '1D',
  //           key: 'A23097'
  //         },
  //         {
  //           _id: 'akjs3j5435nd9i24',
  //           position: [24.856534339310674, -99.56359863281251],
  //           name: '9R',
  //           key: 'A23098'
  //         },
  //         {
  //           _id: 'akjs3j5435nd9i25',
  //           position: [26.730893022137383, -99.90966796875001],
  //           name: '3Y',
  //           key: 'A23099'
  //         }
  //       ],
  //       positions: [
  //         [27.63487379134253, -100.00854492187501],
  //         [27.771051193172273, -100.19531250000001],
  //         [27.664068965384516, -100.38208007812501],
  //         [27.42053815128712, -100.40405273437501],
  //         [27.322974947245704, -100.711669921875],
  //         [27.176469131898898, -100.82153320312501],
  //         [27.039556602163195, -100.79956054687501],
  //         [27.11781284232125, -100.667724609375],
  //         [27.059125784374068, -100.55786132812501],
  //         [26.814266197561487, -100.53588867187501],
  //         [26.578702269100557, -100.72265625000001],
  //         [26.735799020431674, -100.755615234375],
  //         [26.37218544169559, -101.18408203125001],
  //         [25.888878582127084, -100.85449218750001],
  //         [25.809781975840405, -100.85449218750001],
  //         [25.3241665257384, -100.36010742187501],
  //         [25.20494115356912, -100.21728515625001],
  //         [25.18505888358067, -100.32714843750001],
  //         [25.24469595130604, -100.63476562500001],
  //         [25.175116531621764, -100.79956054687501],
  //         [24.966140159912975, -100.81054687500001],
  //         [24.896402266558727, -100.733642578125],
  //         [24.836595553891183, -100.81054687500001],
  //         [24.447149589730834, -100.74462890625001],
  //         [24.407137917727667, -100.57983398437501],
  //         [24.226928664976377, -100.63476562500001],
  //         [24.126701958681682, -100.52490234375001],
  //         [23.905926927314724, -100.57983398437501],
  //         [23.71495350699028, -100.458984375],
  //         [23.42292845506526, -100.49194335937501],
  //         [23.392681978613, -100.44799804687501],
  //         [23.17066382710224, -100.458984375],
  //         [23.160563309048314, -100.37109375],
  //         [23.271627053918287, -100.37109375],
  //         [23.311990950585997, -100.21728515625001],
  //         [23.24134610238615, -100.21728515625001],
  //         [23.221154981846556, -100.08544921875001],
  //         [23.29181053244191, -100.06347656250001],
  //         [23.352342597581107, -100.12939453125001],
  //         [23.392681978613, -100.06347656250001],
  //         [23.38259828417886, -99.88769531250001],
  //         [23.56398712845123, -99.94262695312501],
  //         [23.75518176611264, -99.86572265625],
  //         [23.745125865762933, -99.59106445312501],
  //         [23.87579191610102, -99.437255859375],
  //         [24.126701958681682, -99.64599609375001],
  //         [24.317065306876046, -99.59106445312501],
  //         [24.4971463205719, -99.62402343750001],
  //         [24.4971463205719, -99.72290039062501],
  //         [24.587090339209634, -99.72290039062501],
  //         [24.617057340809524, -99.58007812500001],
  //         [24.647017162630366, -99.481201171875],
  //         [24.746831298412058, -99.47021484375001],
  //         [24.79670834894575, -99.27246093750001],
  //         [24.776759933219164, -99.17358398437501],
  //         [24.90636723790802, -99.15161132812501],
  //         [25.035838555635017, -99.16259765625],
  //         [25.11544539706197, -99.04174804687501],
  //         [25.06569718553588, -98.97583007812501],
  //         [25.46311452925943, -98.40454101562501],
  //         [25.492868271257127, -98.5693359375],
  //         [26.02717014049738, -98.58032226562501],
  //         [26.05678288577881, -98.81103515625001],
  //         [25.987674852384966, -98.89892578125001],
  //         [26.11598592533351, -99.03076171875001],
  //         [26.07652055985697, -99.16259765625],
  //         [26.254009699865737, -99.19555664062501],
  //         [26.342652809380603, -99.40429687500001],
  //         [26.60817437403311, -99.39331054687501],
  //         [26.676913083105454, -99.63500976562501],
  //         [26.853479438420024, -99.569091796875],
  //         [26.92206991673282, -99.755859375],
  //         [27.088473156555896, -99.64599609375001],
  //         [27.244862521497282, -99.73388671875],
  //         [27.42053815128712, -99.755859375],
  //         [27.518015241965692, -99.94262695312501],
  //         [27.566721430409707, -99.93164062500001],
  //         [27.63487379134253, -99.76684570312501],
  //         [27.761329874505233, -99.86572265625]
  //       ]
  //     }
  //   ],
  //   positions: [
  //     [21.12549763660629, -104.19433593750001],
  //     [22.26876403907398, -104.50195312500001],
  //     [21.657428197370653, -105.11718750000001],
  //     [25.958044673317843, -109.42382812500001],
  //     [26.43122806450644, -109.0283203125],
  //     [28.613459424004414, -111.66503906250001],
  //     [31.27855085894653, -113.07128906250001],
  //     [31.690781806136822, -114.74121093750001],
  //     [32.32427558887655, -114.78515625000001],
  //     [31.27855085894653, -110.830078125],
  //     [31.316101383495624, -108.19335937500001],
  //     [31.765537409484374, -108.14941406250001],
  //     [31.802892586706786, -106.21582031250001],
  //     [30.600093873550072, -104.98535156250001],
  //     [29.611670115197406, -104.54589843750001],
  //     [28.8831596093235, -102.8759765625],
  //     [29.76437737516313, -102.52441406250001],
  //     [29.76437737516313, -101.25000000000001],
  //     [28.304380682962783, -100.23925781250001],
  //     [26.27371402440643, -98.74511718750001],
  //     [25.760319754713887, -97.16308593750001],
  //     [21.98380141738471, -97.77832031250001],
  //     [23.845649887659352, -103.62304687500001]
  //   ]
  // },
  // {
  //   name: 'Californias',
  //   _id: '4d128b6ea794fc13a8093001',
  //   subzones: [
  //     {
  //       _id: '4d1288sh2394fc13a8037301',
  //       name: '3-B'
  //     },
  //     {
  //       _id: '4d1288sh2394fc13a8017301',
  //       name: '3-B'
  //     },
  //     {
  //       _id: '4d1288sh2394fc13a8077301',
  //       name: '3-T'
  //     }
  //   ],
  //   positions: [
  //     [32.62087018318113, -114.96093750000001],
  //     [32.47269502206151, -116.89453125000001],
  //     [29.76437737516313, -115.62011718750001],
  //     [28.57487404744697, -113.90625],
  //     [27.800209937418252, -114.16992187500001],
  //     [27.72243591897343, -115.04882812500001],
  //     [26.78484736105119, -113.73046875000001],
  //     [26.23430203240673, -112.54394531250001],
  //     [24.726874870506972, -112.0166015625],
  //     [22.87744046489713, -109.90722656250001],
  //     [23.483400654325642, -109.24804687500001],
  //     [25.24469595130604, -110.65429687500001],
  //     [27.955591004642553, -112.54394531250001],
  //     [29.305561325527698, -113.2470703125],
  //     [30.221101852485987, -114.60937500000001],
  //     [31.50362930577303, -115.04882812500001]
  //   ]
  // },
  // {
  //   name: 'Sur',
  //   _id: '4d128b6ea794fc13a8000101',
  //   sites: [],
  //   subzones: [],
  //   positions: [
  //     [18.60460138845525, -98.17382812500001],
  //     [17.392579271057766, -97.73437500000001],
  //     [16.762467717941604, -99.49218750000001],
  //     [15.623036831528264, -96.7236328125],
  //     [16.214674588248556, -94.08691406250001],
  //     [14.477234210156519, -92.19726562500001],
  //     [16.13026201203477, -91.62597656250001],
  //     [16.172472808397515, -90.39550781250001],
  //     [17.18277905643184, -91.1865234375],
  //     [17.769612247142653, -90.92285156250001],
  //     [18.562947442888312, -91.7578125],
  //     [18.187606552494625, -94.43847656250001],
  //     [18.729501999072138, -95.36132812500001],
  //     [18.271086109608877, -96.6796875]
  //   ]
  // }, {
  //   name: 'Peninsula',
  //   _id: '4d128b6ea794fc13a8200001',
  //   sites: [],
  //   subzones: [],
  //   positions: [
  //     [18.562947442888312, -91.45019531250001],
  //     [17.853290114098012, -90.703125],
  //     [17.853290114098012, -88.94531250000001],
  //     [18.47960905583197, -87.97851562500001],
  //     [19.93204130611555, -87.5830078125],
  //     [21.453068633086783, -86.66015625000001],
  //     [21.49396356306447, -88.59375000000001],
  //     [21.12549763660629, -90.21972656250001],
  //     [19.973348786110602, -90.30761718750001],
  //     [19.062117883514652, -90.92285156250001]
  //   ]
  // }
]

const dumbAdministrators = [
  {
    zone: 'siadjh9sa9djsad09asj9di',
    administrators: [
      {
        _id: '3id034jdo430jorko34r43',
        name: '',
        surname: '',
        fullName: '',
        access: 2
      },
      {
        _id: '3id032423430j3k234r43',
        name: '',
        surname: '',
        fullName: '',
        access: 2
      }
    ]
  }
]

// Authentication
function credentials(state = {}, action) {
  switch (action.type) {
    case 'SET_USER':
      return {
        user: action.user,
        token: action.token,
        authenticated: true
      }
    case 'LOG_OUT':
      return {}
    default:
      return state
  }
}

// Global alerts
function appAlert(state = {}, action) {
  switch (action.type) {
    case 'DISMISS_ALERT':
      return {}
    case 'SET_ALERT':
      return {
        title: action.title,
        body: action.body
      }
    default:
      return state
  }
}

const dummyReports = [
  {
    attended: true,
    site: 'A23099',
    timestamp: 1506565282809, // Unix timestamp
    sensors: [
      {
        _id: "ts1",
        value: 45.9
      },
      {
        _id: "ts2",
        value: 21.5
      },
      {
        _id: "ts3",
        value: 23.5
      },
      {
        _id: "ts4",
        value: 21.5
      }
    ],
    alarms: [{
        sensor: "ts1", // Sensor id
        value: 45.9
    }]
  },
  {
    site: 'A23099',
    timestamp: 1506565296218, // Unix timestamp
    sensors: [
      {
        _id: "ts1",
        value: 45.9
      },
      {
        _id: "ts2",
        value: 21.5
      },
      {
        _id: "ts3",
        value: 23.5
      },
      {
        _id: "ts4",
        value: 21.5
      }
    ],
    alarms: [{
      attended: false,
      sensor: "ts1", // Sensor id
      value: 45.9
    }]
  }
]

/*
let foundIndex = state.findIndex(({ site }) => site === action.report.site)
let newState = state
console.log(foundIndex)
foundIndex > -1
? newState[foundIndex] = {
  key: newState[foundIndex].key,
  alerts: [...newState[foundIndex].alerts, ...action.report.alerts],
  sensors: [...newState[foundIndex].sensors, ...action.report.sensors],
}
: newState.push(action.report)
console.log(newState)
return newState
 */


function reports(state = [], action) {
  switch (action.type) {
    case 'SET_REPORT': {
      const foundIndex = state.findIndex(({ site }) => site === action.report.site)
      const newState = state
      foundIndex > -1
      ? newState[foundIndex] = {
        site: newState[foundIndex].site,
        zone: action.report.zone,
        subzone: action.report.subzone,
        alarms: [{
          timestamp: action.report.timestamp,
          values: [...(action.report.alarms || [])],
          attended: false
        }, ...(newState[foundIndex].alarms || [])],
        sensors: [{
          timestamp: action.report.timestamp,
          values: [...(action.report.sensors || [])]
        }, ...(newState[foundIndex].sensors || [])]
      }
      : newState.push({
        site: action.report.site,
        zone: action.report.zone,
        subzone: action.report.subzone,
        alarms: [{
          timestamp: action.report.timestamp,
          values: [...(action.report.alarms || [])],
          attended: false
        }],
        sensors: [{
          timestamp: action.report.timestamp,
          values: [...(action.report.sensors || [])]
        }]
      })
      return [...newState]
    }
    default:
      return state
  }
}

function zones(state = dumbZones, action) {
  switch (action.type) {
    case 'SET_ZONE':
      return [...state, {
        name: action.name,
        positions: action.positions
      }]
    case 'SET_SUBZONE':
      return [...state]
    case 'SET_SITE':
      return state
    default:
    return state
  }
}

function administrators(state = dumbAdministrators, action) {
  switch (action.type) {
    default:
      return state
  }
}

const appReducer = combineReducers({
  credentials,
  zones,
  administrators,
  appAlert,
  reports
})

export default appReducer
